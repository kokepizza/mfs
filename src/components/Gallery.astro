---
import { projects } from "../data/projects";
import { Image } from "astro:assets";
---

<style>
    .gallery {
        display: flex;
        flex-direction: column;
        gap: 4rem;
    }

    .project-card {
        border-bottom: 1px solid #ccc;
        padding-bottom: 2rem;
    }

    .image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }

    .project-image {
        width: 100%;
        height: auto;
        border-radius: 0.5rem;
    }
</style>

<section class="gallery">
  {projects.map((project) => (
    <article class="project-card" id={project.slug}>
      <h2>{project.name}</h2>
      <p>{project.description}</p>
      <div class="image-grid">
        {project.images.map((image) => (
          <Image 
            src={image} 
            alt={project.name} 
            width={400} 
            height={300} 
            format="webp" 
            class="project-image" 
          />
        ))}
      </div>
    </article>
  ))}
</section>